<!DOCTYPE html>
<html lang="{{ site.lang | default: 'pt-BR' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <!-- SEO Meta Tags -->
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title | default: site.github.repository_name }}</title>
  <meta name="description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}">
  <meta name="keywords" content="Microsoft Dataverse, Python SDK, CRM, Power Platform, Azure, API, ETL, AWS Glue">
  <meta name="author" content="Jose Andre Filho">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title | default: site.github.repository_name }}">
  <meta property="og:description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
  <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/assets/images/og-image.png">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title | default: site.github.repository_name }}">
  <meta name="twitter:description" content="{{ page.description | default: site.description | default: site.github.project_tagline }}">
  <meta name="twitter:image" content="{{ site.url }}{{ site.baseurl }}/assets/images/twitter-card.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="{{ site.baseurl }}/assets/images/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/assets/images/apple-touch-icon.png">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/custom.css?v=' | append: site.github.build_revision | relative_url }}">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Syntax Highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  
  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Microsoft Dataverse SDK for Python",
    "description": "{{ site.description | default: site.github.project_tagline }}",
    "url": "{{ site.url }}{{ site.baseurl }}",
    "downloadUrl": "https://pypi.org/project/crmadminbrasil-dataverse-sdk/",
    "author": {
      "@type": "Person",
      "name": "Jose Andre Filho"
    },
    "programmingLanguage": "Python",
    "operatingSystem": "Cross-platform",
    "applicationCategory": "DeveloperApplication"
  }
  </script>
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
  
  <div class="wrapper">
    <!-- Header -->
    <header class="site-header" role="banner">
      <div class="header-content">
        <div class="site-brand">
          <a href="{{ site.baseurl }}/" class="site-title">
            <span class="logo">🚀</span>
            {{ site.title | default: site.github.repository_name }}
          </a>
          <p class="site-description">{{ site.description | default: site.github.project_tagline }}</p>
        </div>
        
        <!-- Navigation Menu -->
        <nav class="main-nav" role="navigation" aria-label="Navegação principal">
          <ul>
            <li><a href="{{ '/' | relative_url }}">🏠 Início</a></li>
            <li><a href="{{ '/docs/getting-started/quickstart.html' | relative_url }}">🚀 Quick Start</a></li>
            <li><a href="{{ '/docs/guides/aws-glue-integration.html' | relative_url }}">☁️ AWS Glue</a></li>
            <li><a href="{{ '/docs/api-reference/' | relative_url }}">📖 API Reference</a></li>
            <li><a href="{{ '/docs/examples/' | relative_url }}">💡 Exemplos</a></li>
          </ul>
        </nav>

        <!-- Quick Links -->
        <div class="quick-links">
          <h3>🔗 Links Rápidos</h3>
          <ul>
            <li><a href="https://pypi.org/project/crmadminbrasil-dataverse-sdk/" target="_blank" rel="noopener">📦 PyPI Package</a></li>
            <li><a href="{{ site.github.repository_url }}" target="_blank" rel="noopener">🐙 GitHub Repo</a></li>
            <li><a href="{{ site.github.repository_url }}/issues" target="_blank" rel="noopener">🐛 Report Issues</a></li>
            <li><a href="{{ site.github.repository_url }}/discussions" target="_blank" rel="noopener">💬 Discussões</a></li>
          </ul>
        </div>

        <!-- Installation Box -->
        <div class="installation-box">
          <h3>⚡ Instalação Rápida</h3>
          <div class="code-block">
            <code>pip install crmadminbrasil-dataverse-sdk</code>
            <button class="copy-btn" onclick="copyToClipboard('pip install crmadminbrasil-dataverse-sdk')" aria-label="Copiar comando">
              📋
            </button>
          </div>
        </div>

        <!-- Badges -->
        <div class="badges">
          <a href="https://pypi.org/project/crmadminbrasil-dataverse-sdk/" target="_blank" rel="noopener">
            <img src="https://badge.fury.io/py/crmadminbrasil-dataverse-sdk.svg" alt="PyPI version">
          </a>
          <a href="https://www.python.org/downloads/" target="_blank" rel="noopener">
            <img src="https://img.shields.io/badge/python-3.9+-blue.svg" alt="Python 3.9+">
          </a>
          <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">
            <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="MIT License">
          </a>
          <a href="{{ site.github.repository_url }}/stargazers" target="_blank" rel="noopener">
            <img src="https://img.shields.io/github/stars/joseandrefilho/crmadminbrasil-dataverse-sdk.svg" alt="GitHub stars">
          </a>
        </div>
      </div>
    </header>
    
    <!-- Main Content -->
    <main id="main-content" class="page-content" role="main">
      <!-- Breadcrumb Navigation -->
      {% if page.url != "/" %}
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <ol>
          <li><a href="{{ '/' | relative_url }}">Início</a></li>
          {% assign crumbs = page.url | remove:'/index.html' | split: '/' %}
          {% for crumb in crumbs offset: 1 %}
            {% unless forloop.last %}
              <li><a href="{% assign crumb_limit = forloop.index | plus: 1 %}{% for crumb in crumbs limit: crumb_limit %}{{ crumb | append: '/' }}{% endfor %}">{{ crumb | replace:'-',' ' | remove:'.html' | capitalize }}</a></li>
            {% else %}
              <li aria-current="page">{{ crumb | replace:'-',' ' | remove:'.html' | capitalize }}</li>
            {% endunless %}
          {% endfor %}
        </ol>
      </nav>
      {% endif %}

      <!-- Page Header -->
      {% if page.title and page.url != "/" %}
      <header class="page-header">
        <h1>{{ page.title }}</h1>
        {% if page.description %}
          <p class="page-description">{{ page.description }}</p>
        {% endif %}
      </header>
      {% endif %}

      <!-- Content -->
      <div class="content">
        {{ content }}
      </div>

      <!-- Page Navigation -->
      {% if page.url contains '/docs/' %}
      <nav class="page-navigation" aria-label="Navegação da página">
        {% assign docs_pages = site.pages | where_exp: "page", "page.url contains '/docs/'" | sort: "url" %}
        {% for doc_page in docs_pages %}
          {% if doc_page.url == page.url %}
            {% assign current_index = forloop.index0 %}
            {% break %}
          {% endif %}
        {% endfor %}
        
        <div class="nav-links">
          {% if current_index > 0 %}
            {% assign prev_page = docs_pages[current_index | minus: 1] %}
            <a href="{{ prev_page.url | relative_url }}" class="nav-link prev">
              ← {{ prev_page.title | default: prev_page.name }}
            </a>
          {% endif %}
          
          {% assign next_index = current_index | plus: 1 %}
          {% if next_index < docs_pages.size %}
            {% assign next_page = docs_pages[next_index] %}
            <a href="{{ next_page.url | relative_url }}" class="nav-link next">
              {{ next_page.title | default: next_page.name }} →
            </a>
          {% endif %}
        </div>
      </nav>
      {% endif %}

      <!-- Feedback Section -->
      {% if page.url contains '/docs/' %}
      <div class="feedback-section">
        <h3>💝 Esta página foi útil?</h3>
        <p>Ajude-nos a melhorar a documentação com seu feedback!</p>
        <a href="{{ site.github.repository_url }}/issues/new?template=documentation.md&title=Feedback%20Documentação:%20{{ page.title | url_encode }}" class="btn-feedback" target="_blank" rel="noopener">
          💬 Dar Feedback
        </a>
      </div>
      {% endif %}
    </main>
    
    <!-- Footer -->
    <footer class="site-footer" role="contentinfo">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Microsoft Dataverse SDK</h3>
          <p>SDK Python moderno e assíncrono para Microsoft Dataverse com funcionalidades enterprise.</p>
          <div class="social-links">
            <a href="{{ site.github.repository_url }}" target="_blank" rel="noopener" aria-label="GitHub">
              🐙 GitHub
            </a>
            <a href="https://pypi.org/project/crmadminbrasil-dataverse-sdk/" target="_blank" rel="noopener" aria-label="PyPI">
              📦 PyPI
            </a>
          </div>
        </div>
        
        <div class="footer-section">
          <h4>📚 Documentação</h4>
          <ul>
            <li><a href="{{ '/docs/getting-started/quickstart.html' | relative_url }}">Quick Start</a></li>
            <li><a href="{{ '/docs/api-reference/' | relative_url }}">API Reference</a></li>
            <li><a href="{{ '/docs/guides/aws-glue-integration.html' | relative_url }}">AWS Glue</a></li>
            <li><a href="{{ '/docs/examples/' | relative_url }}">Exemplos</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>🆘 Suporte</h4>
          <ul>
            <li><a href="{{ site.github.repository_url }}/issues" target="_blank" rel="noopener">Issues</a></li>
            <li><a href="{{ site.github.repository_url }}/discussions" target="_blank" rel="noopener">Discussões</a></li>
            <li><a href="{{ '/docs/troubleshooting/' | relative_url }}">Troubleshooting</a></li>
            <li><a href="mailto:contato@crmadminbrasil.com">Contato</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>🔧 Recursos</h4>
          <ul>
            <li><a href="{{ '/docs/tutorials/real-world-etl-scenarios.html' | relative_url }}">ETL Scenarios</a></li>
            <li><a href="{{ '/docs/guides/best-practices.html' | relative_url }}">Best Practices</a></li>
            <li><a href="{{ site.github.repository_url }}/releases" target="_blank" rel="noopener">Changelog</a></li>
            <li><a href="{{ site.github.repository_url }}/blob/main/LICENSE" target="_blank" rel="noopener">Licença</a></li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; {{ 'now' | date: "%Y" }} Jose Andre Filho. Licenciado sob <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">MIT License</a>.</p>
        <p>Construído com ❤️ para a comunidade Python e Microsoft Dataverse.</p>
      </div>
    </footer>
  </div>

  <!-- JavaScript -->
  <script src="{{ '/assets/js/custom.js?v=' | append: site.github.build_revision | relative_url }}"></script>
  
  <!-- Copy to clipboard functionality -->
  <script>
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(function() {
        // Show success feedback
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '✅';
        btn.style.color = '#28a745';
        
        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.color = '';
        }, 2000);
      }).catch(function(err) {
        console.error('Erro ao copiar: ', err);
      });
    }

    // Tab functionality
    function showTab(tabId) {
      // Hide all tab contents
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Remove active class from all buttons
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Show selected tab
      document.getElementById(tabId).classList.add('active');
      
      // Add active class to clicked button
      event.target.classList.add('active');
    }

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add loading animation to external links
    document.querySelectorAll('a[target="_blank"]').forEach(link => {
      link.addEventListener('click', function() {
        this.style.opacity = '0.7';
        setTimeout(() => {
          this.style.opacity = '1';
        }, 300);
      });
    });
  </script>
  
  <!-- Analytics (if configured) -->
  {% if site.google_analytics %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ site.google_analytics }}');
    </script>
  {% endif %}
</body>
</html>

